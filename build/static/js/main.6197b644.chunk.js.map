{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","event","getClassLink","App","movie","console","log","id","updateMovies","movies","filter","item","updateMoviesWillWatch","moviesWillWatch","push","fetch","then","response","json","results","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6197b644.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    this.setState({\n                      willWatch: true\n                    });\n                    addMovieToWillWatch(data);\n                  }}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\n\nconst MovieTabs = props => {\n  const { sort_by, updateSortBy } = props;\n  // const handleClick = value => () => {\n  //     updateSortBy(value);\n  //   };\n\n  const handleClick = value => {\n    return event => {\n      updateSortBy(value);\n    };\n  };\n\n  const getClassLink = value => {\n    return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\n  };\n\n  return (\n    <ul className=\"tabs nav nav-pills\">\n      <li className=\"nav-item\">\n        <div\n          // className={`nav-link ${\n          //   sort_by === \"popularity.desc\" ? \"active\" : \"\"\n          // }`}\n\n          className={getClassLink(\"popularity.desc\")}\n          onClick={handleClick(\"popularity.desc\")}\n        >\n          Popularity desc\n        </div>\n      </li>\n      <li className=\"nav-item\">\n        <div\n          className={getClassLink(\"revenue.desc\")}\n          onClick={handleClick(\"revenue.desc\")}\n        >\n          Revenue desc\n        </div>\n      </li>\n      <li className=\"nav-item\">\n        <div\n          className={getClassLink(\"vote_average.desc\")}\n          onClick={handleClick(\"vote_average.desc\")}\n        >\n          Vote average desc\n        </div>\n      </li>\n    </ul>\n  );\n};\n\nexport default MovieTabs;\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport MovieTabs from \"./MovieTabs\";\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"revenue.desc\"\n    };\n\n    console.log(\"constructor\");\n  }\n\n  // componentDidMount() {\n  //   console.log(\"didMount\");\n  //   const _this = this;\n\n  //   fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}`)\n  //     .then(response => {\n  //       console.log(\"then\");\n  //       return response.json();\n  //     })\n  //     .then(function(data) {\n  //       console.log(\"data\", data);\n  //       _this.setState({\n  //         movies: data.results\n  //       });\n  //     });\n  // }\n\n  componentDidMount() {\n    console.log(\"didMount\");\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`\n    )\n      .then(response => {\n        console.log(\"then\", response);\n        return response.json();\n      })\n      .then(data => {\n        console.log(\"data\", data);\n        this.setState({\n          movies: data.results\n        });\n      });\n    // console.log(\"after fetch\");\n  }\n\n  deleteMovie = movie => {\n    console.log(movie.id);\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    console.log(updateMovies);\n\n    // this.state.movies = updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({ sort_by: value });\n  };\n\n  render() {\n    console.log(\"render\", this);\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      data={movie}\n                      deleteMovie={this.deleteMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}